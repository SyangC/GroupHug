<h1>This is the GroupHug show</h1>

<div class="col-md-8 col-md-offset-2">
  <div class="thumbnail">
    <img src="https://fillmurray.com/500/300">
    <div class="caption" ng-controller="GrouphugsShowController as grouphugsShow" >
      <h1>{{ grouphugsShow.selected.name }}</h1>
      <h2>{{ grouphugsShow.selected.description }}</h2>

      <h3>Giftee:</h3>
      <p>{{ grouphugsShow.selected.gifteeFirstName}} {{ grouphugsShow.selected.gifteeLastName}}</p>

      <h3>Creator:</h3>
      <p>{{ grouphugsShow.selected.creator.firstName }} {{grouphugsShow.selected.creator.lastName}}</p>


      
      <h2>Add to the list of contributors:</h2>
      <p>Please add the email addresses of people you think might like to contribute below. You can always add to this list once the Group Hug is created and don't worry we will only use the email addresses you provide for the purpose of inviting people to join group hug to contribute to {{grouphugsShow.selected.gifteeFirstName}}'s Group Hug.</p>
      <form  ng-submit="grouphugsShow.addContributor()">
        <input placeholder="contributor's email address" type="email" name="newContributorEmail" ng-model="grouphugsShow.newContributorEmail"> 
      </form>
      
      <h3>Contributors already on the list:</h3>
      <ul ng-repeat="contributorEmail in grouphugsShow.selected.contributorEmailAddresses">
        <li >{{ contributorEmail }} is on the list</li>
      </ul>

      <div ng-repeat="experience in grouphugsShow.selected.experiences">
        <h3>{{experience.experienceId.name}}<br>Description:{{experience.experienceId.description}} Price: £{{experience.experienceId.price}}  Average Weight {{grouphugsShow.selected.averageWeight(experience)}} </h3>

        <form name="userWeighting" ng-if="grouphugsShow.canVote(experience, main.currentUser._id)">
          <table>
            <tr>
              <td>Not Great</td>
              <td>Possibly</td>
              <td>Ok</td>
              <td>That would work</td>
              <td>Perfect</td>
            </tr>
            <tr>
              <td><input type="radio" class="rating-select" ng-model="experience.newWeighting" value="1" ></td>
              <td><input type="radio" class="rating-select" ng-model="experience.newWeighting" value="2" ></td>
              <td><input type="radio" class="rating-select" ng-model="experience.newWeighting" value="3" ></td>
              <td><input type="radio" class="rating-select" ng-model="experience.newWeighting" value="4" ></td>
              <td><input type="radio" class="rating-select" ng-model="experience.newWeighting" value="5" ></td>
              
            </tr>
          </table> 
         </form>
         <h4>Average Rating: {{grouphugsShow.averageWeight(experience)}}</h4>
      </div>
      <button ng-click="grouphugsShow.saveWeightings()" class="btn" >Save ratings</button>

     <!--  <h3>Contributors:</h3>
      <ul ng-repeat="contributor in grouphugsShow.selected.contributors">
        <li>{{ contributor }}</li>
        <li ui-sref="usersShow({ id: contributor._id })">Enter</li>

      </ul> -->

    </div>

   
    <!-- <button ng-click="grouphugsShow.delete()" class="btn">Delete</button>
 -->
  </div>
  
</div>

<h2>Contributions...</h2>
<h3>So far £{{ grouphugsShow.selected.contributionTotal/100}} has been contributed</h3>


<form id="form" onsubmit="return false;">
  <input type="text" name="amount" placeholder="Enter your contribution here £0.00"  ng-model = "grouphugsShow.contributionAmount" >
  <input type="submit" id="customButton"   ng-click="grouphugsShow.checkout()">
</form>

<!-- <input type="text" name="amount"> -->
<!-- <button id="customButton" class="btn">Purchase</button> -->
<button ui-sref="grouphugsEdit({ id: grouphugsShow.selected._id })" class="btn">Edit the group hug details </button><a ui-sref="adminUi"> Back</a>
<h1>Pictures</h1>
<img ng-repeat="picture in grouphugsShow.selected.pictures" ng-src="{{ picture }}">